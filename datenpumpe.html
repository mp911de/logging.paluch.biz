<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-02-21 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150221" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Logstash/Gelf Loggers - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/mp911de/logstash-gelf">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://logging.paluch.biz/" id="bannerLeft">
                <h2>Logstash/Gelf Loggers</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-02-21
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.6.1-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="examples/jul.html" title="Java Util Logging">
          <i class="none"></i>
        Java Util Logging</a>
            </li>
                
      <li>
  
                          <a href="examples/log4j-1.2.x.html" title="log4j v1.2.x">
          <i class="none"></i>
        log4j v1.2.x</a>
            </li>
                
      <li>
  
                          <a href="examples/log4j-2.x.html" title="log4j v2.x">
          <i class="none"></i>
        log4j v2.x</a>
            </li>
                
      <li>
  
                          <a href="examples/jbossas7.html" title="JBoss AS7/Wildfly">
          <i class="none"></i>
        JBoss AS7/Wildfly</a>
            </li>
                
      <li>
  
                          <a href="examples/logback.html" title="Logback">
          <i class="none"></i>
        Logback</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="mdcprofiling.html" title="MDC Profiling">
          <i class="none"></i>
        MDC Profiling</a>
            </li>
                
      <li>
  
                          <a href="hostname-lookup.html" title="Hostname Lookup">
          <i class="none"></i>
        Hostname Lookup</a>
            </li>
                
      <li>
  
                          <a href="default-fields.html" title="Default Fields">
          <i class="none"></i>
        Default Fields</a>
            </li>
                
      <li>
  
                          <a href="stack-trace-filter.html" title="Stack Trace Filter">
          <i class="none"></i>
        Stack Trace Filter</a>
            </li>
                
      <li>
  
                          <a href="redis.html" title="Redis">
          <i class="none"></i>
        Redis</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Datenpumpe</a>
          </li>
                              <li class="nav-header">Project Documentation</li>
                              
      <li>
  
                          <a href="apidocs/index.html" title="JavaDoc">
          <i class="none"></i>
        JavaDoc</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/mp911de" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow mp911de</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Datenpumpe<a name="Datenpumpe"></a></h2>
<p>Central logging, log aggregation and the use of logstash facilitate event sourcing. The more log events your data store holds the more value you can gain of those events. Business related events and technical events might be produced now by your software and carried out as log events. Log events are limited at a certain point. Sure, MDC is a good way to enrich log events with details of your runtime. When it comes down to add real business related data (monetary amounts, durations, aggregations) you don&#x2019;t want to use MDC since MDC is thread-bound and you have to clean it up afterwards. Datenpumpe is here to provide an appropriate API for sending arbitrary data using GELF.</p>
<p>Datenpumpe is a german term, which means pump for data. And this is the exact purpose of it. Use it to push any data into your (ELK) stack. Reuse GELF, reuse any Redis to push events, stats, messages and anything for later consolidation and reporting.</p>
<p>Examples:</p>

<div class="source">
<pre>public class MyServlet extends HttpServlet {

    public Datenpumpe datenpumpe;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)  {

        Map&lt;String, Object&gt; message = new HashMap&lt;&gt;;
        message.put(&quot;uri&quot;, req.getRequestUri());
        message.put(&quot;resource&quot;, &quot;MyServlet&quot;);
        message.put(&quot;event&quot;, &quot;access&quot;);

        datenpumpe.submit(message);
    }
}
</pre></div>
<p>Or more sophisticated (using reflection to retrieve the fields from your model):</p>

<div class="source">
<pre>@Stateless
public class MyEjb {

    public Datenpumpe datenpumpe;

    public void shoppingCartOrdered(ShoppingCart cart) {
        datenpumpe.submit(cart);
    }
}

public class ShoppingCart{

    private String cartId;
    private double amount;
    private String customerId;

    public String getCartId(){
        return cartId;
    }

    public double getAmount(){
        return amount;
    }

    public String getCustomerId(){
        return customerId;
    }
}
</pre></div>
<p>This results in a Gelf message like:</p>

<div class="source">
<pre>{ &quot;timestamp&quot;: 1406797244.645,
  &quot;facility&quot;: &quot;logstash-gelf&quot;,
  &quot;_cartId&quot;: &quot;the cart id&quot;,
  &quot;_amount&quot;: 9.27,
  &quot;_customerId&quot;: &quot;the customer id&quot;
}
</pre></div>
<p>JNDI/Resource injection is supported on JBoss AS7/Wildfly (JBoss AS8) platforms though <a class="externalLink" href="https://github.com/mp911de/logstash-gelf-subsystem">https://github.com/mp911de/logstash-gelf-subsystem</a></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2013&#x2013;2015.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
      
    <!-- Piwik -->
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.paluch.biz/" : "http://piwik.paluch.biz/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 4);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://piwik.paluch.biz/piwik.php?idsite=4" style="border:0" alt=""/></p></noscript>
    <!-- End Piwik Tag -->
    </body>
</html>